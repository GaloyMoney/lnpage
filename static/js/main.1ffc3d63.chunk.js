(this.webpackJsonplnpage=this.webpackJsonplnpage||[]).push([[0],{116:function(e){e.exports=JSON.parse('{"v":"5.4.4","fr":60,"ip":0,"op":73,"w":100,"h":100,"nm":"Checkbox","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"\u25bd Group 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[42,42,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":73,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Path 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41.75,42,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-10,1.11],[-3.95,7],[10,-7]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Path 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[0],"e":[100]},{"t":46}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":73,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Rectangle 6 Copy","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,42,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[100,100,100],"e":[90,90,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,-16.854]},"t":28,"s":[90,90,100],"e":[110,110,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":33,"s":[110,110,100],"e":[100,100,100]},{"t":36}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":2,"s":{"a":0,"k":[42,42],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":21,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.349020004272,0.694118022919,0.537254989147,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.349020004272,0.694118022919,0.537254989147,1],"ix":4},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0],"e":[100]},{"t":34}],"ix":5},"r":2,"bm":11,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[200,200],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 6 Copy","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[100]},{"t":23}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":-89,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":73,"st":0,"bm":0}],"markers":[]}')},129:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(16),i=n.n(s),r=n(216),o=n(218),j=n(215),d=(n(129),n(130),n(54)),l=n(89),b=n(17),x=n(22),h=n(2);var O,p=function(){return Object(h.jsx)(l.a,{bg:"dark",children:Object(h.jsx)(b.a,{children:Object(h.jsxs)(l.a.Brand,{href:"https://bitcoinbeach.com",children:[Object(h.jsx)(x.a,{src:"/BBLogo.png",rounded:!0})," "]})})})},u=n(18),m=n(15),g=n(12),f=n(40),y=n(112),k=n(217),v=n(210),w=Object(k.a)(O||(O=Object(d.a)(["\n      query nodeStats {\n        nodeStats {\n          peersCount,\n          channelsCount,\n          id\n        }\n      }\n    "])));var B,P,S=function(){var e=-1===window.env.GRAPHQL_URI.indexOf("testnet")?"https://1ml.com/node/":"https://1ml.com/testnet/node/",t=Object(v.a)(w),n=t.loading,a=t.error,c=t.data;return Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(b.a,{children:[Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{children:Object(h.jsxs)(m.a,{children:[Object(h.jsx)("h2",{children:"Connect to the Bitcoin Beach Lightning Node"}),Object(h.jsx)("br",{}),Object(h.jsx)(y.a,{children:Object(h.jsxs)(b.a,{children:[Object(h.jsxs)(u.a,{children:[Object(h.jsx)(m.a,{children:Object(h.jsx)(g.a,{children:Object(h.jsx)(g.a.Body,{children:Object(h.jsxs)(f.a,{variant:"flush",children:[Object(h.jsxs)(f.a.Item,{children:[Object(h.jsx)("label",{children:"Node Public Key: "})," ",Object(h.jsx)("p",{style:{fontSize:"small",overflowWrap:"break-word"},children:a?"Unavailable":n?"Loading...":c.nodeStats.id})]}),Object(h.jsx)(f.a.Item,{children:a?"Unavailable":n?"Loading...":Object(h.jsx)("a",{href:e+"".concat(c.nodeStats.id),children:"Connect the Bitcoin Beach Lightning node"})})]})})})}),Object(h.jsx)(m.a,{children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(g.a.Header,{children:"Node Stats"}),Object(h.jsx)(g.a.Body,{children:Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(f.a.Item,{variant:"success",children:["Peers: ",a?"Unavailable":n?"Loading...":c.nodeStats.peersCount]}),Object(h.jsxs)(f.a.Item,{variant:"success",children:["Channels: ",a?"Unavailable":n?"Loading...":c.nodeStats.channelsCount]})]})})]})})]}),Object(h.jsx)("hr",{})]})})]})})]})]})},C=n(87),R=n.n(C),I=n(113),L=n(34),A=n(121),E=n(118),N=n(27),G=n(219),Q=n(214),D=n(53),U=function(){var e=navigator.userAgent||navigator.vendor||window.opera;if(!/windows phone/i.test(e))return/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":void 0},T="https://play.google.com/store/apps/details?id=com.galoyapp",V="https://apps.apple.com/app/bitcoin-beach-wallet/id1531383905",z="https://storage.googleapis.com/bitcoin-beach-wallet/latest.apk",q=function(){var e=U();return"android"===e?window.location.replace("https://play.google.com/store/apps/details?id=com.galoyapp"):"ios"===e?window.location.replace("itms-apps://itunes.apple.com/app/bitcoin-beach-wallet/id1531383905"):Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(b.a,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("h3",{children:"Download the Bitcoin Beach Wallet"}),Object(h.jsx)("br",{}),Object(h.jsxs)(u.a,{children:[Object(h.jsxs)(m.a,{children:[Object(h.jsx)("a",{href:V,children:Object(h.jsx)(x.a,{src:"/apple-app-store.png",rounded:!0})}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]}),Object(h.jsx)(m.a,{children:Object(h.jsx)("a",{href:T,children:Object(h.jsx)(x.a,{src:"/google-play-badge.png",rounded:!0})})}),Object(h.jsx)(m.a,{children:Object(h.jsx)("div",{style:{width:200},children:Object(h.jsxs)(D.a,{href:z,block:!0,variant:"outline-dark",children:["Download APK",Object(h.jsx)("br",{})," for Android"]})})})]}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(m.a,{children:Object(h.jsx)(N.QRCode,{value:V,size:200})}),Object(h.jsx)(m.a,{children:Object(h.jsx)(N.QRCode,{value:T,size:200})}),Object(h.jsx)(m.a,{children:Object(h.jsx)(N.QRCode,{value:z,size:200})})]})]})]})},H=n(114),W=n.n(H),$=n(115),F=n.n($),J=n(116),_=Object(k.a)(B||(B=Object(d.a)(["\n      query noauthUpdatePendingInvoice($hash: String!, $username: String!) {\n        noauthUpdatePendingInvoice(username: $username, hash: $hash)\n      }\n    "]))),K=Object(k.a)(P||(P=Object(d.a)(["\n      mutation noauthAddInvoice($username: String!) {\n        noauthAddInvoice(username: $username)\n      }\n    "])));var M=function(e){var t=e.username,n=Object(a.useState)(0),c=Object(L.a)(n,2),s=c[0],i=c[1],r=Object(a.useState)(!1),o=Object(L.a)(r,2),j=o[0],d=o[1],l=Object(a.useState)(null),O=Object(L.a)(l,2),f=O[0],y=O[1],k=Object(a.useState)(!1),v=Object(L.a)(k,2),w=v[0],B=v[1],P=Object(G.a)(K,{onCompleted:function(e){var t=e.noauthAddInvoice;i(t),Z(t)},onError:function(e){console.error(e.message)}}),S=Object(L.a)(P,2),C=S[0],D=S[1],z=D.loading,q=D.error,H=Object(Q.a)(_,{onCompleted:function(e){var t=e.noauthUpdatePendingInvoice;console.log({invoicePaid:t,stopPolling:Y}),d(t),t&&Y()},onError:function(e){console.log({error:e})},pollInterval:3500,notifyOnNetworkStatusChange:!0}),$=Object(L.a)(H,2),M=$[0],X=$[1],Y=(X.loading,X.stopPolling);Object(a.useEffect)((function(){C({variables:{username:t}}),y(U())}),[]);var Z=function(){var e=Object(I.a)(R.a.mark((function e(n){var a,c,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.lightningPayReq.decode(n),c=a.tags.filter((function(e){return"payment_hash"===e.tagName})),s=Object(L.a)(c,1),i=s[0].data,M({variables:{username:t,hash:i}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(b.a,{fluid:!0,children:[void 0===f&&Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{className:"justify-content-md-center",children:Object(h.jsx)(m.a,{md:"auto",style:{padding:0},children:Object(h.jsxs)(g.a,{className:"text-center",children:[Object(h.jsxs)(g.a.Header,{children:["Pay ",t]}),"User not found"===(null===q||void 0===q?void 0:q.message)&&Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("br",{})," User not found "]}),(z||!s)&&!q&&Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("br",{}),"Loading..."]}),j&&Object(h.jsx)("div",{children:Object(h.jsx)(F.a,{options:{animationData:J,loop:!1},height:"150",width:"150"})}),!z&&!j&&!q&&Object(h.jsxs)(g.a.Body,{style:{paddingBottom:"0",paddingTop:"5px"},children:[Object(h.jsx)("small",{children:"Scan using a lightning enabled wallet"}),Object(h.jsx)(A.a,{show:w,placement:"top",overlay:Object(h.jsx)(E.a,{children:"Copied!"}),children:Object(h.jsx)("div",{onClick:function(){W()(s),B(!0),setTimeout((function(){B(!1)}),3e3)},children:Object(h.jsx)(N.QRCode,{value:"".concat(s),size:320,logoImage:"/BBQRLogo.png",logoWidth:100})})}),Object(h.jsx)("p",{children:"Click on the QR code to copy"}),Object(h.jsx)("p",{children:"Waiting for payment confirmation..."})]}),Object(h.jsxs)(g.a.Body,{children:["android"===f&&Object(h.jsx)("a",{href:T,children:Object(h.jsx)(x.a,{src:"/google-play-badge.png",height:"40px",rounded:!0})}),"ios"===f&&Object(h.jsx)("a",{href:T,children:Object(h.jsx)(x.a,{src:"/apple-app-store.png",height:"40px",rounded:!0})}),void 0===f&&Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{href:V,children:Object(h.jsx)(x.a,{src:"/apple-app-store.png",height:"45px",rounded:!0})}),"\xa0",Object(h.jsx)("a",{href:T,children:Object(h.jsx)(x.a,{src:"/google-play-badge.png",height:"45px",rounded:!0})})]})]}),Object(h.jsxs)(g.a.Footer,{className:"text-muted",children:["Powered by ",Object(h.jsx)(g.a.Link,{href:"https://galoy.io",children:"Galoy "}),Object(h.jsx)("br",{}),Object(h.jsx)(g.a.Link,{href:window.location.origin,children:"Open a channel with us"})]})]})})}),Object(h.jsx)("br",{})]})]})},X=n(119),Y=n.n(X),Z=c.a.forwardRef((function(e,t){return Object(h.jsx)("div",{style:{display:"none"},children:Object(h.jsxs)(b.a,{fluid:!0,ref:t,children:[Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{className:"justify-content-md-center",children:Object(h.jsx)(m.a,{md:"auto",children:Object(h.jsxs)(g.a,{className:"text-center",children:[Object(h.jsx)(g.a.Body,{children:Object(h.jsxs)(g.a.Text,{children:[Object(h.jsxs)("h1",{children:["Pay ",e.username]}),Object(h.jsx)(N.QRCode,{ecLevel:"H",value:"https://ln.bitcoinbeach.com/".concat(e.username),size:800,logoImage:"/BBQRLogo.png",logoWidth:250})]})}),Object(h.jsx)("h2",{children:"Powered by Galoy.io"})]})})}),Object(h.jsx)("br",{})]})})})),ee=function(e){var t=e.username,n=Object(a.useRef)();return Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsx)(Z,{username:t,ref:n}),Object(h.jsxs)(b.a,{fluid:!0,children:[Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{className:"justify-content-md-center",children:Object(h.jsx)(m.a,{md:"auto",children:Object(h.jsxs)(g.a,{className:"text-center",children:[Object(h.jsx)(g.a.Body,{children:Object(h.jsxs)(g.a.Text,{children:[Object(h.jsxs)("h3",{children:["Pay ",t]}),Object(h.jsx)(N.QRCode,{id:"qr",ecLevel:"H",value:"https://ln.bitcoinbeach.com/".concat(t),size:300,logoImage:"/BBQRLogo.png",logoWidth:100})]})}),Object(h.jsxs)("h4",{children:["Powered by ",Object(h.jsx)(g.a.Link,{href:"https://galoy.io",children:"Galoy.io"})]})]})})}),Object(h.jsx)("br",{})]}),Object(h.jsx)(u.a,{className:"justify-content-md-center",children:Object(h.jsx)(Y.a,{trigger:function(){return Object(h.jsx)(D.a,{children:"Print QR Code"})},content:function(){return n.current},onBeforeGetContent:function(){document.getElementById("react-qrcode-logo").style.height=1e3,document.getElementById("react-qrcode-logo").style.width=1e3}})})]})},te=n(120),ne={"/":function(){return Object(h.jsx)(S,{})},"/elzonte":function(){return Object(h.jsx)(q,{})},"/:username/print":function(e){var t=e.username;return Object(h.jsx)(ee,{username:t})},"/:username":function(e){var t=e.username;return Object(h.jsx)(M,{username:t})}};var ae=function(){return Object(te.useRoutes)(ne)||Object(h.jsx)(S,{})},ce=new r.a({uri:window.env.GRAPHQL_URI,cache:new o.a});i.a.render(Object(h.jsx)(j.a,{client:ce,children:Object(h.jsx)(ae,{})}),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.1ffc3d63.chunk.js.map